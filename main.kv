#:import os os
<MainMenuScreen>:
    orientation: 'vertical'
    Button:
        text: 'Get New Calibration Set'
        on_release:
            app.targetReaderScreen = 'calib' 
            app.mode = 'calibration'
            app.goto_image_menu()
    Button:
        text: 'Load Old Calibration Set'
        on_release:
            app.calib = app.readCalibFile(app.calibFile)
            print app.calib.M
            print app.calib.C
            print app.calib.R2
            print app.calib.blank
            app.targetReaderScreen = 'sample'
            app.goto_image_menu()


<ImageMenuScreen>:
    orientation: 'vertical'
    Button:
        text: 'Take Photo'
        on_release: app.take_photo()
    Button:
        text: 'Get Stock Image'
        on_release: app.goto_get_stock_image()


<GraphScreen>:
    BoxLayout:
        size: root.size
        orientation: 'vertical'
        MyGraph:
            id: graph
        Button:
            id: analyer_btn
            size_hint_y: None
            height: root.height * 0.25
            text: 'Go to analyser'
            on_release:
                app.goto_calibration_screen()
                print R2.x
                print R2.y
                print R2.text_size
                print R2.height
                print R2.width
    Label:
        id: LSR
        x: root.width * 0.2
        y: root.height * 0.8
        width: root.width * 0.3
        height: root.height * 0.05
        text_size: self.size
        font_size: self.height * 0.7
    Label:
        id: R2
        x: root.width * 0.2
        y: root.height * 0.7
        width: root.width * 0.3
        height: root.height * 0.05
        text_size: self.size
        font_size: self.height * 0.7


<FileChooserScreen>:
    BoxLayout:
        id: fileChooserScreen
        size: root.size
        orientation: 'vertical'
        FileChooserListView:
            id: fileChooser
            size_hint_y: 0.9
            path: '.'
        Button:
            id: selectButton
            size_hint_y: 0.1
            text: 'Load'
            on_release:
                print "PATHS-"
                print os.getcwd()
                print app.get_running_app().user_data_dir
                app.readSpotsFromConfig()
                app.goto_color_reader_screen(fileChooser.selection[0])
       
 
<ColorReaderToggleButton@ToggleButton>:
    group: 'select'
    allow_no_currentSpot: False
    font_size: self.height * 0.35
    halign: 'center'
    valign: 'middle'
    markup: True

<MsgPopup>:
    size_hint: .7, .4
    title: "Attention"
    
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 20

        Label:
            id: message_label
            size_hint_y: 0.4
            text: "Label"
        Button:
            text: 'Dismiss'
            size_hint_y: 0.4
            on_press: root.dismiss()
